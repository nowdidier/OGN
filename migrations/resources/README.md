# Миграции

## Статус миграций
Перед выполнением миграций эта команда поможет уточнить список незафиксированных миграций в проекте, не выполняя сами миграции:
```bash
php console migration/status
```

## Запуск миграций
Команда для выполнения миграций:
```bash
php console migration/run
```
Выполнит все незафиксированные миграции (ранее не выполненные) и зафиксирует их в таблице `migrations` базы данных, последняя указана в настройках проекта (конфигурации БД) как основная.
Соответственно, все SQL-запросы миграций могут быть выполнены только к этой БД.


## Создание новой миграции (для разработки)
Создать шаблон миграции при помощи консольной команды:
```bash
php console migration/create example_name
```
Эта команда создаст новую миграцию 'Migration_XXX_example_name.php' (где индекс ХХХ - текущее UNIX-время в миллисекундах).
В классе 'Migration_XXX_example_name' файла миграции есть метод **up**(), в который можно добавить один или более SQL-запросов с помощью метода **addSql**(...). Аналогичным
образом в методе **down**() содержатся запросы, которые откатывают выполнение метода **up**().

Подробнее см. описание библиотеки https://github.com/phphleb/migration
